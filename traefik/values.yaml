defaultCertificateDmains: []
traefik:
  image:
    name: mirror.gcr.io/library/traefik
  resources:
    limits:
      memory: 256Mi
    requests:
      cpu: 500m
      memory: 256Mi

  topologySpreadConstraints:
   - labelSelector:
       matchLabels:
         app.kubernetes.io/name: traefik
     maxSkew: 1
     topologyKey: kubernetes.io/hostname
     whenUnsatisfiable: ScheduleAnyway
   - labelSelector:
       matchLabels:
         app.kubernetes.io/name: traefik
     maxSkew: 1
     topologyKey: topology.kubernetes.io/zone
     whenUnsatisfiable: ScheduleAnyway

  deployment:
    replicas: 3

  globalArguments: []
  additionalArguments:
    - "--entrypoints.web.http.redirections.entrypoint.to=:443"
    - "--entrypoints.web.http.redirections.entrypoint.scheme=https"
    - "--metrics.prometheus.addServicesLabels=true"
  logs:
    access:
      enabled: true
  ingressClass:
    enabled: true
    isDefaultClass: true
  service:
    single: false
    annotations:
      service.beta.kubernetes.io/aws-load-balancer-type: external
      service.beta.kubernetes.io/aws-load-balancer-scheme: "internet-facing"
      service.beta.kubernetes.io/aws-load-balancer-nlb-target-type: instance
  ports:
    websecure:
      tls:
        enabled: true
    https:
      port: 10443
      expose: true
      exposedPort: 8443
      protocol: TCP
      tls:
        enabled: true
    metrics:
      expose: true
  tlsStore:
    default:
      defaultCertificate:
        secretName: traefik-default-cert
  metrics:
    prometheus:
      serviceMonitor:
        enabled: true
        honorLabels: true
