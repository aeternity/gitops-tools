app-secrets:
  external:
    remotePrefix: /k8s/dev-wgt7
    values:
      DB_PASS: "/wikijs/WIKI_DB_PASSWORD"

matomo:
  ## @section Global parameters
  ## Global Docker image parameters
  ## Please, note that this will override the image parameters, including dependencies, configured to use the global value
  ## Current available global Docker image parameters: imageRegistry, imagePullSecrets and storageClass
  ##
  
  ## @param global.imageRegistry Global Docker image registry
  ## @param global.imagePullSecrets Global Docker registry secret names as an array
  ## @param global.storageClass Global StorageClass for Persistent Volume(s)
  ##
  global:
    imageRegistry: ""
    ## E.g.
    ## imagePullSecrets:
    ##   - myRegistryKeySecretName
    ##
    imagePullSecrets: []
    storageClass: ""
  
  ## @section Common parameters
  ##
  
  ## @param kubeVersion Force target Kubernetes version (using Helm capabilities if not set)
  ##
  kubeVersion: ""
  ## @param nameOverride String to partially override matomo.fullname template (will maintain the release name)
  ##
  nameOverride: ""
  ## @param fullnameOverride String to fully override matomo.fullname template
  ##
  fullnameOverride: ""
  ## @param namespaceOverride String to fully override common.names.namespace
  ##
  namespaceOverride: ""
  ## @param commonAnnotations Common annotations to add to all Matomo resources (sub-charts are not considered). Evaluated as a template
  ##
  commonAnnotations: {}
  ## @param commonLabels Common labels to add to all Matomo resources (sub-charts are not considered). Evaluated as a template
  ##
  commonLabels: {}
  
  ## @param extraDeploy Array of extra objects to deploy with the release (evaluated as a template).
  ##
  extraDeploy: []
  
  ## @section Matomo parameters
  ##
  
  ## Bitnami Matomo image version
  ## ref: https://hub.docker.com/r/bitnami/matomo/tags/
  ## @param image.registry Matomo image registry
  ## @param image.repository Matomo Image name
  ## @param image.tag Matomo Image tag
  ## @param image.digest Matomo image digest in the way sha256:aa.... Please note this parameter, if set, will override the tag
  ## @param image.pullPolicy Matomo image pull policy
  ## @param image.pullSecrets Specify docker-registry secret names as an array
  ## @param image.debug Specify if debug logs should be enabled
  ##
  image:
    registry: docker.io
    repository: bitnami/matomo
    tag: 4.13.3-debian-11-r0
    digest: ""
    ## Specify a imagePullPolicy
    ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
    ## ref: https://kubernetes.io/docs/user-guide/images/#pre-pulling-images
    ##
    pullPolicy: IfNotPresent
    ## Optionally specify an array of imagePullSecrets.
    ## Secrets must be manually created in the namespace.
    ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
    ## e.g:
    ## pullSecrets:
    ##   - myRegistryKeySecretName
    ##
    pullSecrets: []
    ## Set to true if you would like to see extra information on logs
    ##
    debug: false
  ## @param replicaCount Number of Matomo Pods to run (requires ReadWriteMany PVC support)
  ##
  replicaCount: 1
  ## @param matomoUsername User of the application
  ## ref: https://github.com/bitnami/containers/tree/main/bitnami/matomo#configuration
  ##
  matomoUsername: user
  ## @param matomoPassword Application password
  ## Defaults to a random 10-character alphanumeric string if not set
  ## ref: https://github.com/bitnami/containers/tree/main/bitnami/matomo#configuration
  ##
  matomoPassword: ""
  ## @param matomoEmail Admin email
  ## ref: https://github.com/bitnami/containers/tree/main/bitnami/matomo#configuration
  ##
  matomoEmail: user@example.com
  ## @param matomoWebsiteName Matomo application name
  ## ref: https://github.com/bitnami/containers/tree/main/bitnami/matomo#configuration
  ##
  matomoWebsiteName: example
  ## @param matomoWebsiteHost Matomo application host
  ## ref: https://github.com/bitnami/containers/tree/main/bitnami/matomo#configuration
  ##
  matomoWebsiteHost: https://matomo.dev.aeternity.io
  ## @param matomoSkipInstall Skip Matomo installation wizard. Useful for migrations and restoring from SQL dump
  ## ref: https://github.com/bitnami/containers/tree/main/bitnami/matomo#configuration
  ##
  matomoSkipInstall: false
  ## @param customPostInitScripts Custom post-init.d user scripts
  ## ref: https://github.com/bitnami/containers/tree/main/bitnami/dokuwiki
  ## NOTE: supported formats are `.sh` or `.php`
  ## NOTE: scripts are exclusively executed during the 1st boot of the container
  ## e.g:
  ## customPostInitScripts:
  ##   custom-post-init.sh: |
  ##     #!/bin/bash
  ##     echo "Hello from custom-post-init.sh"
  ##   .htaccess: |
  ##     RewriteEngine On
  ##     RewriteBase /
  ##     ...
  ##
  customPostInitScripts: {}
  ## @param allowEmptyPassword Allow DB blank passwords
  ## ref: https://github.com/bitnami/containers/tree/main/bitnami/matomo#environment-variables
  ##
  allowEmptyPassword: true
  ## @param command Override default container command (useful when using custom images)
  ##
  command: []
  ## @param args Override default container args (useful when using custom images)
  ##
  args: []
  ## @param updateStrategy.type Update strategy - only really applicable for deployments with RWO PVs attached
  ## If replicas = 1, an update can get "stuck", as the previous pod remains attached to the
  ## PV, and the "incoming" pod can never start. Changing the strategy to "Recreate" will
  ## terminate the single previous pod, so that the new, incoming pod can attach to the PV
  ##
  updateStrategy:
    type: RollingUpdate
  ## @param priorityClassName Matomo pods' priorityClassName
  ##
  priorityClassName: ""
  ## @param schedulerName Name of the k8s scheduler (other than default)
  ## ref: https://kubernetes.io/docs/tasks/administer-cluster/configure-multiple-schedulers/
  ##
  schedulerName: ""
  ## @param topologySpreadConstraints Topology Spread Constraints for pod assignment
  ## https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/
  ## The value is evaluated as a template
  ##
  topologySpreadConstraints: []
  ## @param hostAliases [array] Add deployment host aliases
  ## https://kubernetes.io/docs/concepts/services-networking/add-entries-to-pod-etc-hosts-with-host-aliases/
  ##
  hostAliases:
    ## Necessary for apache-exporter to work
    ##
    - ip: "127.0.0.1"
      hostnames:
        - "status.localhost"
  ## @param extraEnvVars Extra environment variables
  ## For example:
  ##
  extraEnvVars: []
  #  - name: BEARER_AUTH
  #    value: true
  ## @param extraEnvVarsCM ConfigMap containing extra env vars
  ##
  extraEnvVarsCM: ""
  ## @param extraEnvVarsSecret Secret containing extra env vars (in case of sensitive data)
  ##
  extraEnvVarsSecret: ""
  ## @param extraVolumes Array of extra volumes to be added to the deployment (evaluated as template). Requires setting `extraVolumeMounts`
  ##
  extraVolumes: []
  ## @param extraVolumeMounts Array of extra volume mounts to be added to the container (evaluated as template). Normally used with `extraVolumes`.
  ##
  extraVolumeMounts: []
  ## @param initContainers Add additional init containers to the pod (evaluated as a template)
  ##
  initContainers: []
  ## @param sidecars Attach additional containers to the pod (evaluated as a template)
  ##
  sidecars: []
  ## @param serviceAccountName Attach serviceAccountName to the pod and sidecars
  ##
  serviceAccountName: ""
  ## @param tolerations Tolerations for pod assignment
  ## Ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
  ##
  tolerations: []
  ## @param existingSecret Name of a secret with the application password
  ##
  existingSecret: ""
  ## SMTP mail delivery configuration
  ## ref: https://github.com/bitnami/containers/tree/main/bitnami/matomo/#smtp-configuration
  ## @param smtpHost SMTP host
  ## @param smtpPort SMTP port
  ## @param smtpUser SMTP user
  ## @param smtpPassword SMTP password
  ## @param smtpProtocol SMTP Protocol (options: ssl,tls, nil)
  ##
  smtpHost: ""
  smtpPort: ""
  smtpUser: ""
  smtpPassword: ""
  smtpProtocol: ""
  ## @param smtpExistingSecret The name of an existing secret with SMTP credentials
  ## NOTE: Must contain key `smtp-password`
  ## NOTE: When it's set, the `smtpPassword` parameter is ignored
  ##
  smtpExistingSecret: ""
  ## @param containerPorts [object] Container ports
  ##
  containerPorts:
    http: 8080
    https: 8443
  ## Enable persistence using Persistent Volume Claims
  ## ref: https://kubernetes.io/docs/user-guide/persistent-volumes/
  ##
  persistence:
    ## @param persistence.enabled Enable persistence using PVC
    ##
    enabled: false
    ## @param persistence.storageClass PVC Storage Class for Matomo volume
    ## If defined, storageClassName: <storageClass>
    ## If set to "-", storageClassName: "", which disables dynamic provisioning
    ## If undefined (the default) or set to null, no storageClassName spec is
    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
    ##   GKE, AWS & OpenStack)
    ##
    storageClass: ""
    ## @param persistence.accessModes PVC Access Mode for Matomo volume
    ## Requires persistence.enabled: true
    ## If defined, PVC must be created manually before volume will be bound
    ##
    accessModes:
      - ReadWriteOnce
    ## @param persistence.size PVC Storage Request for Matomo volume
    ##
    size: 8Gi
    ## @param persistence.dataSource Custom PVC data source
    ##
    dataSource: {}
    ## @param persistence.existingClaim A manually managed Persistent Volume Claim
    ## Requires persistence.enabled: true
    ## If defined, PVC must be created manually before volume will be bound
    ##
    existingClaim: ""
    ## @param persistence.hostPath If defined, the matomo-data volume will mount to the specified hostPath.
    ## Requires persistence.enabled: true
    ## Requires persistence.existingClaim: nil|false
    ## Default: nil.
    ##
    hostPath: ""
    ## @param persistence.annotations Persistent Volume Claim annotations
    ##
    annotations: {}
    ## @param persistence.selector Selector to match an existing Persistent Volume for Matomo data PVC
    ## If set, the PVC can't have a PV dynamically provisioned for it
    ## E.g.
    ## selector:
    ##   matchLabels:
    ##     app: my-app
    ##
    selector: {}
  
  ## @param podAffinityPreset Pod affinity preset. Ignored if `affinity` is set. Allowed values: `soft` or `hard`
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity
  ##
  podAffinityPreset: ""
  ## @param podAntiAffinityPreset Pod anti-affinity preset. Ignored if `affinity` is set. Allowed values: `soft` or `hard`
  ## Ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity
  ##
  podAntiAffinityPreset: soft
  ## Node affinity preset
  ## Ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#node-affinity
  ## @param nodeAffinityPreset.type Node affinity preset type. Ignored if `affinity` is set. Allowed values: `soft` or `hard`
  ## @param nodeAffinityPreset.key Node label key to match Ignored if `affinity` is set.
  ## @param nodeAffinityPreset.values Node label values to match. Ignored if `affinity` is set.
  ##
  nodeAffinityPreset:
    type: ""
    ## E.g.
    ## key: "kubernetes.io/e2e-az-name"
    ##
    key: ""
    ## E.g.
    ## values:
    ##   - e2e-az1
    ##   - e2e-az2
    ##
    values: []
  ## @param affinity Affinity for pod assignment
  ## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
  ## Note: podAffinityPreset, podAntiAffinityPreset, and nodeAffinityPreset will be ignored when it's set
  ##
  affinity: {}
  ## @param nodeSelector Node labels for pod assignment. Evaluated as a template.
  ## ref: https://kubernetes.io/docs/user-guide/node-selection/
  ##
  nodeSelector: {}
  ## Matomo container's resource requests and limits
  ## ref: http://kubernetes.io/docs/user-guide/compute-resources/
  ## @param resources.requests [object] The requested resources for the init container
  ## @param resources.limits The resources limits for the init container
  ##
  resources:
    requests:
      memory: 512Mi
      cpu: 300m
    limits: {}
  ## Configure Pods Security Context
  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/#set-the-security-context-for-a-pod
  ## @param podSecurityContext.enabled Enable Matomo pods' Security Context
  ## @param podSecurityContext.fsGroup Matomo pods' group ID
  ##
  podSecurityContext:
    enabled: true
    fsGroup: 1001
  ## Configure Container Security Context (only main container)
  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/#set-the-security-context-for-a-container
  ## @param containerSecurityContext.enabled Enable Matomo containers' Security Context
  ## @param containerSecurityContext.runAsUser Matomo containers' Security Context
  ## @param containerSecurityContext.runAsNonRoot Set Controller container's Security Context runAsNonRoot
  ##
  containerSecurityContext:
    enabled: true
    runAsUser: 1001
    runAsNonRoot: true
  ## Configure extra options for startup probe
  ## Matomo core exposes / to unauthenticated requests, making it a good
  ## default startup and readiness path. However, that may not always be the
  ## case. For example, if the image value is overridden to an image containing a
  ## module that alters that route, or an image that does not auto-install Matomo.
  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/#configure-probes
  ## @param startupProbe.enabled Enable startupProbe
  ## @param startupProbe.path Request path for startupProbe
  ## @param startupProbe.initialDelaySeconds Initial delay seconds for startupProbe
  ## @param startupProbe.periodSeconds Period seconds for startupProbe
  ## @param startupProbe.timeoutSeconds Timeout seconds for startupProbe
  ## @param startupProbe.failureThreshold Failure threshold for startupProbe
  ## @param startupProbe.successThreshold Success threshold for startupProbe
  ##
  startupProbe:
    enabled: false
    path: /
    initialDelaySeconds: 600
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 5
    successThreshold: 1
  ## Configure extra options for liveness probe
  ## Matomo core exposes / to unauthenticated requests, making it a good
  ## default liveness and readiness path. However, that may not always be the
  ## case. For example, if the image value is overridden to an image containing a
  ## module that alters that route, or an image that does not auto-install Matomo.
  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/#configure-probes
  ## @param livenessProbe.enabled Enable livenessProbe
  ## @param livenessProbe.path Request path for livenessProbe
  ## @param livenessProbe.initialDelaySeconds Initial delay seconds for livenessProbe
  ## @param livenessProbe.periodSeconds Period seconds for livenessProbe
  ## @param livenessProbe.timeoutSeconds Timeout seconds for livenessProbe
  ## @param livenessProbe.failureThreshold Failure threshold for livenessProbe
  ## @param livenessProbe.successThreshold Success threshold for livenessProbe
  ##
  livenessProbe:
    enabled: true
    path: /
    initialDelaySeconds: 600
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 5
    successThreshold: 1
  ## Configure extra options for readiness probe
  ## Matomo core exposes / to unauthenticated requests, making it a good
  ## default liveness and readiness path. However, that may not always be the
  ## case. For example, if the image value is overridden to an image containing a
  ## module that alters that route, or an image that does not auto-install Matomo.
  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/#configure-probes
  ## @param readinessProbe.enabled Enable readinessProbe
  ## @param readinessProbe.path Request path for readinessProbe
  ## @param readinessProbe.initialDelaySeconds Initial delay seconds for readinessProbe
  ## @param readinessProbe.periodSeconds Period seconds for readinessProbe
  ## @param readinessProbe.timeoutSeconds Timeout seconds for readinessProbe
  ## @param readinessProbe.failureThreshold Failure threshold for readinessProbe
  ## @param readinessProbe.successThreshold Success threshold for readinessProbe
  ##
  readinessProbe:
    enabled: true
    path: /
    initialDelaySeconds: 30
    periodSeconds: 5
    timeoutSeconds: 1
    failureThreshold: 5
    successThreshold: 1
  ## @param customStartupProbe Override default startup probe
  ##
  customStartupProbe: {}
  ## @param customLivenessProbe Override default liveness probe
  ##
  customLivenessProbe: {}
  ## @param customReadinessProbe Override default readiness probe
  ##
  customReadinessProbe: {}
  ## @param lifecycleHooks LifecycleHook to set additional configuration at startup Evaluated as a template
  ##
  lifecycleHooks: {}
  ## @param podAnnotations Pod annotations
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/
  ##
  podAnnotations: {}
  ## @param podLabels Add additional labels to the pod (evaluated as a template)
  ## ref: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
  ##
  podLabels: {}
  
  ## @section Traffic Exposure Parameters
  ##
  
  ## Kubernetes configuration. For minikube, set this to NodePort, elsewhere use LoadBalancer
  ##
  service:
    ## @param service.type Kubernetes Service type
    ##
    type: LoadBalancer
    ## @param service.ports.http Service HTTP port
    ## @param service.ports.https Service HTTPS port
    ##
    ports:
      http: 80
      https: 443
    ## @param service.loadBalancerSourceRanges Restricts access for LoadBalancer (only with `service.type: LoadBalancer`)
    ## e.g:
    ## loadBalancerSourceRanges:
    ##   - 0.0.0.0/0
    ##
    loadBalancerSourceRanges: []
    ## @param service.loadBalancerIP loadBalancerIP for the Matomo Service (optional, cloud specific)
    ## ref: https://kubernetes.io/docs/user-guide/services/#type-loadbalancer
    ##
    loadBalancerIP: ""
    ## @param service.nodePorts [object] Kubernetes node port
    ## nodePorts:
    ##   http: <to set explicitly, choose port between 30000-32767>
    ##   https: <to set explicitly, choose port between 30000-32767>
    ##
    nodePorts:
      http: ""
      https: ""
    ## @param service.externalTrafficPolicy Enable client source IP preservation
    ## ref https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
    ##
    externalTrafficPolicy: Cluster
    ## @param service.clusterIP Matomo service Cluster IP
    ## e.g.:
    ## clusterIP: None
    ##
    clusterIP: ""
    ## @param service.extraPorts Extra ports to expose (normally used with the `sidecar` value)
    ##
    extraPorts: []
    ## @param service.annotations Additional custom annotations for Matomo service
    ##
    annotations: {}
    ## @param service.sessionAffinity Session Affinity for Kubernetes service, can be "None" or "ClientIP"
    ## If "ClientIP", consecutive client requests will be directed to the same Pod
    ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
    ##
    sessionAffinity: None
    ## @param service.sessionAffinityConfig Additional settings for the sessionAffinity
    ## sessionAffinityConfig:
    ##   clientIP:
    ##     timeoutSeconds: 300
    ##
    sessionAffinityConfig: {}
  ## Configure the ingress resource that allows you to access the
  ## Matomo installation. Set up the URL
  ## ref: https://kubernetes.io/docs/user-guide/ingress/
  ##
  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: traefik
    pathType: ImplementationSpecific
    hostname: "matomo.dev.aeternity.io"
    path: /
    tls: false
    secrets: []
    ## @param ingress.extraRules Additional rules to be covered with this ingress record
    ## ref: https://kubernetes.io/docs/concepts/services-networking/ingress/#ingress-rules
    ## e.g:
    ## extraRules:
    ## - host: example.local
    ##     http:
    ##       path: /
    ##       backend:
    ##         service:
    ##           name: example-svc
    ##           port:
    ##             name: http
    ##
    extraRules: []
  
  ## @section Database parameters
  ##
  
  ## MariaDB chart configuration
  ## https://github.com/bitnami/charts/blob/main/bitnami/mariadb/values.yaml
  ##
  mariadb:
    ## @param mariadb.enabled Whether to deploy a mariadb server to satisfy the applications database requirements
    ## To use an external database set this to false and configure the externalDatabase parameters
    ##
    enabled: true
    ## @param mariadb.architecture MariaDB architecture (`standalone` or `replication`)
    ##
    architecture: standalone
    ## MariaDB Authentication parameters
    ## @param mariadb.auth.rootPassword Password for the MariaDB `root` user
    ## @param mariadb.auth.database Database name to create
    ## @param mariadb.auth.username Database user to create
    ## @param mariadb.auth.password Password for the database
    ##
    auth:
      ## ref: https://github.com/bitnami/containers/tree/main/bitnami/mariadb#setting-the-root-password-on-first-run
      ##
      rootPassword: ""
      ## ref: https://github.com/bitnami/containers/blob/main/bitnami/mariadb/README.md#creating-a-database-on-first-run
      ##
      database: bitnami_matomo
      ## ref: https://github.com/bitnami/containers/blob/main/bitnami/mariadb/README.md#creating-a-database-user-on-first-run
      ##
      username: bn_matomo
      password: ""
    primary:
      ## Enable persistence using Persistent Volume Claims
      ## ref: https://kubernetes.io/docs/user-guide/persistent-volumes/
      ## @param mariadb.primary.persistence.enabled Enable database persistence using PVC
      ## @param mariadb.primary.persistence.storageClass MariaDB primary persistent volume storage Class
      ## @param mariadb.primary.persistence.accessModes Database Persistent Volume Access Modes
      ## @param mariadb.primary.persistence.size Database Persistent Volume Size
      ## @param mariadb.primary.persistence.hostPath Set path in case you want to use local host path volumes (not recommended in production)
      ## @param mariadb.primary.persistence.existingClaim Name of an existing `PersistentVolumeClaim` for MariaDB primary replicas
      ##
      persistence:
        enabled: false
        ## mariadb data Persistent Volume Storage Class
        ## If defined, storageClassName: <storageClass>
        ## If set to "-", storageClassName: "", which disables dynamic provisioning
        ## If undefined (the default) or set to null, no storageClassName spec is
        ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
        ##   GKE, AWS & OpenStack)
        ##
        storageClass: ""
        accessModes:
          - ReadWriteOnce
        size: 8Gi
        hostPath: ""
        existingClaim: ""
  ## External database configuration
  ## @param externalDatabase.host Host of the existing database
  ## @param externalDatabase.port Port of the existing database
  ## @param externalDatabase.user Existing username in the external db
  ## @param externalDatabase.password Password for the above username
  ## @param externalDatabase.database Name of the existing database
  ## @param externalDatabase.existingSecret Name of a secret containing the database credentials
  ##
  externalDatabase:
    host: ""
    port: 3306
    user: bn_matomo
    password: ""
    database: bitnami_matomo
    existingSecret: ""
  
  ## @section Volume Permissions parameters
  ##
  
  ## Init containers parameters:
  ## volumePermissions: Change the owner and group of the persistent volume mountpoint to runAsUser:fsGroup values from the securityContext section.
  ##
  volumePermissions:
    ## @param volumePermissions.enabled Enable init container that changes volume permissions in the data directory (for cases where the default k8s `runAsUser` and `fsUser` values do not work)
    ##
    enabled: false
    ## @param volumePermissions.image.registry Init container volume-permissions image registry
    ## @param volumePermissions.image.repository Init container volume-permissions image name
    ## @param volumePermissions.image.tag Init container volume-permissions image tag
    ## @param volumePermissions.image.digest Init container volume-permissions image digest in the way sha256:aa.... Please note this parameter, if set, will override the tag
    ## @param volumePermissions.image.pullPolicy Init container volume-permissions image pull policy
    ## @param volumePermissions.image.pullSecrets Specify docker-registry secret names as an array
    ##
    image:
      registry: docker.io
      repository: bitnami/bitnami-shell
      tag: 11-debian-11-r77
      digest: ""
      pullPolicy: IfNotPresent
      ## Optionally specify an array of imagePullSecrets.
      ## Secrets must be manually created in the namespace.
      ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
      ## e.g:
      ## pullSecrets:
      ##   - myRegistryKeySecretName
      ##
      pullSecrets: []
    ## Init containers' resource requests and limits
    ## ref: https://kubernetes.io/docs/user-guide/compute-resources/
    ## We usually recommend not to specify default resources and to leave this as a conscious
    ## choice for the user. This also increases chances charts run on environments with little
    ## resources, such as Minikube. If you do want to specify resources, uncomment the following
    ## lines, adjust them as necessary, and remove the curly braces after 'resources:'.
    ## @param volumePermissions.resources.limits The resources limits for the container
    ## @param volumePermissions.resources.requests The requested resources for the container
    ##
    resources:
      ## Example:
      ## limits:
      ##    cpu: 100m
      ##    memory: 128Mi
      ##
      limits: {}
      ## Examples:
      ## requests:
      ##    cpu: 100m
      ##    memory: 128Mi
      ##
      requests: {}
  
  ## @section Metrics parameters
  ##
  
  ## Prometheus Exporter / Metrics
  ##
  metrics:
    ## @param metrics.enabled Start a exporter side-car
    ##
    enabled: false
    ## @param metrics.image.registry Apache exporter image registry
    ## @param metrics.image.repository Apache exporter image repository
    ## @param metrics.image.tag Apache exporter image tag
    ## @param metrics.image.digest Apache exporter image digest in the way sha256:aa.... Please note this parameter, if set, will override the tag
    ## @param metrics.image.pullPolicy Image pull policy
    ## @param metrics.image.pullSecrets Specify docker-registry secret names as an array
    ##
    image:
      registry: docker.io
      repository: bitnami/apache-exporter
      tag: 0.11.0-debian-11-r87
      digest: ""
      pullPolicy: IfNotPresent
      ## Optionally specify an array of imagePullSecrets.
      ## Secrets must be manually created in the namespace.
      ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
      ## e.g:
      ## pullSecrets:
      ##   - myRegistryKeySecretName
      ##
      pullSecrets: []
    ## @param metrics.resources Metrics exporter resource requests and limits
    ## ref: https://kubernetes.io/docs/user-guide/compute-resources/
    ##
    resources: {}
    ##
    ## @param metrics.podAnnotations [object] Additional annotations for Metrics exporter pod
    ##
    podAnnotations:
      prometheus.io/scrape: "true"
      prometheus.io/port: "9117"
  
  ## @section Certificate injection parameters
  ##
  
  ## Add custom certificates and certificate authorities to matomo container
  ##
  certificates:
    ## @param certificates.customCertificate.certificateSecret Secret containing the certificate and key to add
    ## @param certificates.customCertificate.chainSecret.name Name of the secret containing the certificate chain
    ## @param certificates.customCertificate.chainSecret.key Key of the certificate chain file inside the secret
    ## @param certificates.customCertificate.certificateLocation Location in the container to store the certificate
    ## @param certificates.customCertificate.keyLocation Location in the container to store the private key
    ## @param certificates.customCertificate.chainLocation Location in the container to store the certificate chain
    ##
    customCertificate:
      certificateSecret: ""
      chainSecret:
        name: secret-name
        key: secret-key
      certificateLocation: /etc/ssl/certs/ssl-cert-snakeoil.pem
      keyLocation: /etc/ssl/private/ssl-cert-snakeoil.key
      chainLocation: /etc/ssl/certs/mychain.pem
    ## @param certificates.customCAs Defines a list of secrets to import into the container trust store
    ##
    customCAs: []
    ## @param certificates.command Override default container command (useful when using custom images)
    ##
    command: []
    ## @param certificates.args Override default container args (useful when using custom images)
    ##
    args: []
    ## @param certificates.extraEnvVars Container sidecar extra environment variables (eg proxy)
    ##
    extraEnvVars: []
    ## @param certificates.extraEnvVarsCM ConfigMap containing extra env vars
    ##
    extraEnvVarsCM: ""
    ## @param certificates.extraEnvVarsSecret Secret containing extra env vars (in case of sensitive data)
    ##
    extraEnvVarsSecret: ""
    ## @param certificates.image.registry Container sidecar registry
    ## @param certificates.image.repository Container sidecar image
    ## @param certificates.image.tag Container sidecar image tag
    ## @param certificates.image.digest Container sidecar image digest in the way sha256:aa.... Please note this parameter, if set, will override the tag
    ## @param certificates.image.pullPolicy Container sidecar image pull policy
    ## @param certificates.image.pullSecrets Container sidecar image pull secrets
    ##
    image:
      registry: docker.io
      repository: bitnami/bitnami-shell
      tag: 11-debian-11-r77
      digest: ""
      ## Specify a imagePullPolicy
      ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
      ## ref: https://kubernetes.io/docs/user-guide/images/#pre-pulling-images
      ##
      pullPolicy: IfNotPresent
      ## e.g:
      ## pullSecrets:
      ##   - myRegistryKeySecretName
      ##
      pullSecrets: []
  
  ## @section NetworkPolicy parameters
  ##
  
  ## Add networkpolicies
  ##
  networkPolicy:
    ## @param networkPolicy.enabled Enable network policies
    ## If ingress.enabled or metrics.enabled are true, configure networkPolicy.ingress and networkPolicy.metrics selectors respectively to allow communication
    ##
    enabled: false
    ## @param networkPolicy.metrics.enabled Enable network policy for metrics (prometheus)
    ## @param networkPolicy.metrics.namespaceSelector [object] Monitoring namespace selector labels. These labels will be used to identify the prometheus' namespace.
    ## @param networkPolicy.metrics.podSelector [object] Monitoring pod selector labels. These labels will be used to identify the Prometheus pods.
    ##
    metrics:
      enabled: false
      ## e.g:
      ## podSelector:
      ##   label: monitoring
      ##
      podSelector: {}
      ## e.g:
      ## namespaceSelector:
      ##   label: monitoring
      ##
      namespaceSelector: {}
    ## @param networkPolicy.ingress.enabled Enable network policy for Ingress Proxies
    ## @param networkPolicy.ingress.namespaceSelector [object] Ingress Proxy namespace selector labels. These labels will be used to identify the Ingress Proxy's namespace.
    ## @param networkPolicy.ingress.podSelector [object] Ingress Proxy pods selector labels. These labels will be used to identify the Ingress Proxy pods.
    ##
    ingress:
      enabled: false
      ## e.g:
      ## podSelector:
      ##   label: ingress
      ##
      podSelector: {}
      ## e.g:
      ## namespaceSelector:
      ##   label: ingress
      ##
      namespaceSelector: {}
    ## @param networkPolicy.ingressRules.backendOnlyAccessibleByFrontend Enable ingress rule that makes the backend (mariadb) only accessible by matomo's pods.
    ## @param networkPolicy.ingressRules.customBackendSelector [object] Backend selector labels. These labels will be used to identify the backend pods.
    ## @param networkPolicy.ingressRules.accessOnlyFrom.enabled Enable ingress rule that makes matomo only accessible from a particular origin
    ## @param networkPolicy.ingressRules.accessOnlyFrom.namespaceSelector [object] Namespace selector label that is allowed to access matomo. This label will be used to identified the allowed namespace(s).
    ## @param networkPolicy.ingressRules.accessOnlyFrom.podSelector [object] Pods selector label that is allowed to access matomo. This label will be used to identified the allowed pod(s).
    ## @param networkPolicy.ingressRules.customRules [object] Custom network policy ingress rule
    ##
    ingressRules:
      ## mariadb backend only can be accessed from matomo
      ##
      backendOnlyAccessibleByFrontend: false
      customBackendSelector: {}
      ## Allow only from the indicated:
      ##
      accessOnlyFrom:
        enabled: false
        ## e.g:
        ## namespaceSelector:
        ##   label: ingress
        ##
        namespaceSelector: {}
        ## e.g:
        ## podSelector:
        ##   label: access
        ##
        podSelector: {}
      ## custom ingress rules
      ## e.g:
      ## customRules:
      ##   - from:
      ##       - namespaceSelector:
      ##           matchLabels:
      ##             label: example
      ##
      customRules: {}
    ## @param networkPolicy.egressRules.denyConnectionsToExternal Enable egress rule that denies outgoing traffic outside the cluster, except for DNS (port 53).
    ## @param networkPolicy.egressRules.customRules [object] Custom network policy rule
    ##
    egressRules:
      # Deny connections to external. This is not compatible with an external database.
      denyConnectionsToExternal: false
      ## Additional custom egress rules
      ## e.g:
      ## customRules:
      ##   - to:
      ##       - namespaceSelector:
      ##           matchLabels:
      ##             label: example
      ##
      customRules: {}
