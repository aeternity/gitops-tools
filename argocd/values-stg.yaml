encValues:
  dex.github.clientID: "AgCqeZmgHp0+wVNJgpRvPKS1m5pjL3a5vmhkmyR99gU6XHp1sHuYkqXqvxKg67yMvGJ+zvaX0AaZJHAzH15bd/05iz6FSJSGMV+R/FVz3jItkQGZ3n8sadxmKoq3nWRjV3AFpQpx7RlCiOrraTDzK0ubUR5nrvCykLORAUvaJmne7GNR6UgFnpi9UfQctjk4d9AvIkpsdK1UA00l7S9WwwBe4r+ygXmZbVFomckWcyEauAzYkD8Vb9MmNmGl4/URSBi0lfGPtaA2o2bDjyfdjAtfsinTaLKbglbHSJFNakOzpg6raDwkPRab1TCQA59Ykt0oRC8yOxymluRV7pAOmgPhy0vSbcBbHmHenW4ryIPWHoYpNakzYeYbmWE4+peiQGmFRE6m2PhOHhsbxLAB4BwAAOjo+PcbbHkIQtE5b2EfZtiO25Xe0lFzBMxNgDhC12/749GemLDWXuofnHuCZQ2mFDh/V6GCHlouze9oJaBmqL4lPEr4nFsV/bJhnYyeldQydQV/kwahsvBeYdZeZOy9khL0oOK1reJmeYjkoThkPMG2JJ6PRFXBQUV+r2eeGdJXw65Q7gaYKJiDO3hijIURDNuNsPX9sUlVH3DNEiZWy6V5flTDPeWZlhAou97po4IJxfOdKMlTp1fQIbyapkLQKUkZ9MCIivpfFawMcvzd2k0qSaJhexxOMaAM5wjCR9SXItvITlmHAi8WxFn3ALbkKH51Sg=="
  dex.github.clientSecret: "AgCaEqS2FH0NyZHaQESwMDp45zu0L9dON8M7JUFAoP460uF5TQ3GhktJqa3pK3rRoqwR7g41aSyQDBowHha6RYo5pcJCIJbN0YusKAK0pZno9nVoztru6ue53/MK/wi5jW1grcpxE6OpN//PS06uwxphakq7N/WWjBk6dg9cEd840pi0v/2gaInTO0tnzEQ0btnjJwHW1wR1gdTj4zm/L6pE/X/X1TkNAITc9bUN7Qz5PDUrgCXt8S2HTsh3Mkuuk2e2IpqFzjNaGEq5X9GEUp8QUksOlUudb/wEnv6VBHOix9vWq8+9P+u93QPLq0OyEzX5G5QsHNX2Lk6uiouFP4wYFRFR/jwGycP8N+6H8TyYXm9vK5Jl1TvOVhTL52vhXJhjTqBT6fZOztK96ylVz2gto+cZqJ4x+aPLmDSSWUhmeiZPSU/yy8+vSJTXMnTG37zADgcZf2mXZNFkCS3OrQSHe4fdp0hSYIdNKPEuvbUMz8UzQds1qaeUGFQYCHHHX8CIA/Xgn3uQiqLndaZKH5dLvfkDLYoPzy7eqkKXeo/RnIpT82uvO4jDQ2ZjOsgoODK8IgNsGYDMSiZoHgTOU2BxIbTWo+iE00RU4AAvpXcJdL3Igk9G0DNh85CX5IsOGrqjQcmuyXXJaoN+rAhmNgRScIbifdWYvBUWG5uATvNGr4LLrd6nVNzjlCLCyMUZE1NrYJ942V20RbtJ2RZGGPBLJNw1olDLE7BO+vgJa9PMw/j9NBsB8v4y"
  server.secretkey: "AgCBnjAUhOnas0QorWKLJei5HwtqrubcVzgOFbTe4MDzy8JKuXMSyFnoqKslxLqbtavr6qjS6zDM7U6u6llDIpcjLJf7VB0Huw7LSLifQRdaeUJNWcDNpgjEW9d4f/3uo6rMUs1qBEnWrBaF6c0aG6FZrWi7/BXGBW552b6OX+Zm0MBwfWuM/sh8gTm8Hp8fh17IkdiQ9W6MI8OuR4uRM0TRImfcJVFISbM5AhITFEuFe1OuE+e6vvfNzovRAjAFTL5yOSGBgz+omviExA4D+PZB1/jX8BcMSSI30Enj4hhV00A1ByWQDcKjGyRGFvE+DXtnhmE+FiCsMs8kYxKSQGNKZNpv6SYOwes4pcg16U6TAGeQenZrPsub7kQmA0sVNCWQvQaoyUiCcDVjPaXvVsMhFMCE+056wACZrKA5DIj75A7nSC7bKuhpioO0AJa/Ya6kPslr0g7BAqI/g6nxFXii46rZljT5+yYYUPreXDJ9mTLm4tJXGlKYjIpOVO5Nnc1emdXjxiUDuF8jFVGJQ+utS/wxDFn2fT6FMftehOODvemI/wTVdzNOkciy5Abq02tHEnGGRry68/LgXwexpbWSjcfuOrapCico5S0W0zPjejQctzlYcfcGWX+uodhhSpvfw/sGKuH8CnB/5iTxfxerKVc9XcbMdQwS2h9mepPcPBjNPHCrV9g8q2SNNMbqkVBPzEYHWxzPBcKOK2Keb2Vb6uZyxahssSY="

argo-cd:
  server:
    ingress:
      enabled: true
      annotations:
        kubernetes.io/ingress.class: traefik
        traefik.ingress.kubernetes.io/router.entrypoints: websecure
      pathType: ImplementationSpecific
      hosts:
        - "argocd.stg.aeternity.io"
    extraArgs:
      - --insecure
    config:
      # Argo CD's externally facing base URL (optional). Required when configuring SSO
      # url: https://argocd.example.com
      # Argo CD instance label key
      url: https://argocd.stg.aeternity.io
      application.instanceLabelKey: argocd.argoproj.io/instance
      repositories: |
        - url: https://github.com/aeternity/gitops-tools.git
        - type: helm
          url: https://argoproj.github.io/argo-helm
          name: argo
        - type: helm
          url: https://bitnami-labs.github.io/sealed-secrets
          name: sealed-secrets
        - type: helm
          url: https://aws.github.io/eks-charts
          name: eks
        - type: helm
          url: https://helm.traefik.io/traefik
          name: traefik
        - type: helm
          url: https://charts.bitnami.com/bitnami
          name: bitnami
        - type: helm
          url: https://fluent.github.io/helm-charts
          name: fluent
        - type: helm
          url: https://kubernetes.github.io/autoscaler
          name: cluster-autoscaler
      dex.config: |
        connectors:
          - type: github
            id: github
            name: GitHub
            config:
              clientID: $dex.github.clientID
              clientSecret: $dex.github.clientSecret
              orgs:
              - name: aeternity
      resource.customizations: |
        networking.k8s.io/Ingress:
          health.lua: |
            hs = {}
            hs.status = "Healthy"
            return hs
        admissionregistration.k8s.io/MutatingWebhookConfiguration:
          ignoreDifferences: |
            jsonPointers:
            - /webhooks/0/failurePolicy
        admissionregistration.k8s.io/ValidatingWebhookConfiguration:
          ignoreDifferences: |
            jsonPointers:
            - /webhooks/0/failurePolicy
    rbacConfig:
      policy.default: role:readonly
      policy.csv: |
        g, aeternity:devops, role:admin
    additionalProjects:
      - name: tools
        namespace: argocd
        additionalLabels: {}
        additionalAnnotations: {}
        description: Tools used to run the environment
        sourceRepos:
          - 'https://github.com/aeternity/gitops-tools.git'
        destinations:
          - namespace: tools
            server: https://kubernetes.default.svc
          - namespace: argocd
            server: https://kubernetes.default.svc
          - namespace: sealed-secrets
            server: https://kubernetes.default.svc
          - namespace: kube-system
            server: https://kubernetes.default.svc
          - namespace: traefik
            server: https://kubernetes.default.svc
          - namespace: monitoring
            server: https://kubernetes.default.svc
          - namespace: logging
            server: https://kubernetes.default.svc
          - namespace: cluster-autoscaler
            server: https://kubernetes.default.svc
        clusterResourceWhitelist:
          - group: '*'
            kind: '*'
      - name: apps
        namespace: argocd
        additionalLabels: {}
        additionalAnnotations: {}
        description: Applications deployed on EKS
        sourceRepos:
          - 'https://github.com/aeternity/gitops-apps.git'
        destinations:
          - namespace: apps
            server: https://kubernetes.default.svc
        clusterResourceWhitelist:
          - group: '*'
            kind: '*'
defaultRepoUrl: 'https://github.com/aeternity/gitops-tools.git'
defaultTargetRevision: stg

applications:
  argocd:
    project: tools
    namespace: argocd
  sealed-secrets:
    project: tools
    namespace: sealed-secrets
  aws-load-balancer-controller:
    project: tools
    namespace: kube-system
  traefik:
    project: tools
    namespace: traefik
  metrics-server:
    project: tools
    namespace: kube-system
  kube-prometheus-stack:
    project: tools
    namespace: monitoring
  kube-prometheus-blackbox-exporter:
    project: tools
    namespace: monitoring
  fluent-bit:
    project: tools
    namespace: logging
  cluster-autoscaler:
    project: tools
    namespace: cluster-autoscaler
  superhero-ui-web:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  superhero-ui-ssr:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  superhero-wallet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aepp-base:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aerepl-http:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aesophia-http:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  mdw-frontend:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  superhero-backend:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  dex-ui:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aepp-faucet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  test-repo:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  graffiti-server:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aepp-graffiti:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'

namespaces:
  - tools
  - apps
