encValues:
  dex.github.clientID: "AgATpEsmmPWClnRv6SltKlXfGkds+mLN29/ydeznlk5ah5nbkaVK3ra63Rl1J7Sz6pQfMtIp/a5YcVKT5cOIKOzuptJ+Gm6OEdf16pfUVWIAna3M01DLXIjRjOltLErDCh2pr1FH9nhsTPv2tBVWVWrwj3Y/VltGZzebA4KWPTNl9u/NKfO4XukNYXU96qRDzJKrgujPSKt//IvdUI5y6rA5ATS/4b6fg5MF3AVMWXhYGnGPBilkR0D0Ig1beS/sYzUPqCTCFNg5R0GjqkkroRSYYqZ5yZs4x4s96dxfj0/hKirjmxVRSNZu7xhj7F3zEUQi19RxMHBRk6yIuzdL92w+XL7HGjt5PSaA+9Mm+Seu9BExYzgha1OBHxzDi2EnTnhSk6gWnvJr5qY1aQDSaulX/SeOHP4GeCxbpyChEyOBw4jc8j0McvafrIj0pIvFT1jetAMp+38aOponOfsberDXEhafInbdQQ3FskOFFEZVcZRCKhJV5HxUyY4FQci9dWzu80BMThOsw0OFfilquBKBMa1JwgsEKxmZLDPcEdpqmEeYPLm2zwHhAcyhH8fz9cBoLzDdNI+J1QQEkgzessA+NzvD60iZ47ClsEiPX5Qn1QvBdRmRyGMEqX8QeZv9FNxEsm4uFAJCHXoKnOJwezQbcK1v5HB2O7uz0fzOtAon5g9g0bZgsiKUIGjEA/LDe2D8nHeAhb1n4koiPxORr/q3DLFFCQ=="
  dex.github.clientSecret: "AgCGejbgHo2ldTWvKNq+ooC9xhrouOeQmzeQkI3XneUpI1tiPHbbZBW3bL7UjviKErme9IsLFq9qD6fFukVWn/93D/A3kwLIEbgwhhB79QVXg+7Hm3DhNY9b/KeFucvmvhzEfRsJxkvvrsLpxDFhjOC2DI0FoQJOgr7GjdrSO6iNnD0ljyEv2wimYKXNBaYYUoF57HRaWxYjDPsz/jfiBYEenGfRkJjR7TTXNq5H2ej59D4Vd3GWImAPLxrQZ753IZ7Rs59o2Cg3EwZ7+2TEsTnXhV6dDcxuf5ly5XFTLLDsQTahYQ6gTeq6xcW8H0mb6G5PgSM81WwWpwrHh8xDj2JPC4G/8dxTV2Gm6/OotBDm/WuYR50IzNAfNaOz2XOsq/yWOGagFVIyB8h+CjZIna9saYCzqMUNMIgz1eWJgi9kJ0KUT7bHdcT3r0FaYkOOeHZ9mqiRXXrvpilfsoDBVknmIemQNH4nt/OUHgtToqTV/ESf5CmPrTh0gj5yw3B76/hVrJqH9fu+VEqwEWP2jhQBlyJaHYQnsYDZvRX3zv+p7E299DwekKGUYUWhGAYF9k6fUu41qaOGQ0/MYd/dnoN8iQH+rT4BTJW3WuaqYYuWLJW8XujujiDU92w24r7KQF2wNAq0qztN3vjz9zsvGk7AujL1MzLvd0uYybryr1AVjPS+xVWaccmnBMjvohRa6H+2cJpuA5ublyV7IUp++dR+6Q/jEVtgJgeuOWkbLpjCHTnoweAkGq+O"
  server.secretkey: "AgBbh1/ztT7C5nZOdrvMOwlm7zk9YrdaETY3iZ4vVFgIeGqUDCeWBbCc/lofyGXi7bC0+DHm0aLPVnFh38V87PTbF0MzcX0mbP0nE2dBqlMdz+rzN/VSX+f9zKYQDdKGhjGuYDaM0moncqznFTpncCe3JG5go5xsSB0K1oKBvSFVyIOXSXgzm6QQ03kReNVZ+d1FSzeFCZpAGTSJrzVl50mW8QsV/aAoTjcJgElcPquT+xCYR2VUiQ3ubhyKzK5Huh4z1fe04IqFcDzht29c0WwbcEg9xCSaI0OvlwXzrjLlUa//iF+tYfG7AseQvyr4WkY5kus5WUkAEz9hRkUaNqh5AJkV7ZsMQrC8e8+59XzCD+ORlNjqjaPWLOikeK1+4Nmr2tnWeRUv9sWKkn+LVM2j6Xyh9euxBpRgSmweancqJNRhqn+E3om74IAznZvKgBj12ywaHPvw23n/tx25qyB9GumMATRBgXzttjXDHSd6UnSLQO20VlLcnCikd9PPdD9LlbMPHGhwIh4IVPQwv+GenjjeVqL2qyVz4AlGNXXa6zWu2RzYW3X/pQWJL46Pw3GdarY6/oxjj9cxkat+QpbNGIyeHRuKUJ6VsV8S07RsXwqVM2PrsKeKQcgvQxTFl+ets4zxAppiQv8604sKw06N9hw2C4z9wnrGMsO2vsmx38+LlcRNZb3YSvUvq7ubHW0tO6NWNL0cPcU6r715a61cReAAho/QHUQ="
  admin.password: "AgCOwxSXxo7cEqkk2r40A271wVoBizSSMCXaWLySqd5R75CpR+/mSUzaFdtRf06x+RiIhZfIoK1jo16ecdENsF6yL1vg5vpMyaQVTDlIqtsPCK5Zz+YOS1nq5/3tFBlFUsYisyjeH3oVg7HiLTN0YmHwdzB0iyOrZOeS359L3brdjrtlWMYNz3WHbY9No1vFaApG9/74Digbu9aC3RAEmAGeFaApRWvLt9xLCcLxVdtTwyShzm4pouK36YHbfW/w/m9e+q5DwwSa8LWEVoV+8VOV/I48YUDdvB/y8gDYfPiyMIDYzn5/ppI9lI8jwcVnmjy/eLfJRb1msc8wIxoH4zbgw5aIIFyGRheW6MhqMlF4ai5yOHYVAmRLVlNSPWCeQxJVJzWdQZnfnS/f6/ekKhFutbcdgNzpPEPrzrSlV9Pv1o3XBOSIui+PvyB8aclvpwuJ/crctSNNax4WhFAAPCBY0rI8TbDiCe4Ff23533QErOLPRfVrQkPj+oUCUQgW72icOricerJRzsbhrcisoQ16Gx/CZI1WxKDn4V80SkeXQd+dApuzDce8vKmzi6H1P1kywW6sYWSVWREkESB0Xr95EO5nIntobXMhgs+7RayETFKfcRbPlbt95ZoLodiumOayDr15Y9jxYFI09W04YWw7kdKhR9pK7N6BhAW7UzouFBlsOFP+cs6+MyQv8L/D2g6MWfhemiNt/Y8Q7lGW"
  admin.passwordMtime: "AgCcjA80oDSYjSdXfxbarmjx7QdsYD5fvC93H2RN3soxccm1kgyt/eEvKAJgSBoflj6c5n6bbpQ8Jx434XfaxeVT8UXPHWHRYk5dCbK4O+IRa1Ig68MQsk4UD3WK/M9bcPPWsyYsgpdgJ2bPYdSBABmbbmLx1vCXQb5LLCmzSqbzJe7Lhd4OIkyxY55GCfgr6tlJ8ke2YcJydb5MPPtv0QIIFrFVlKg88mInpHpW6rJaGgYnoGrPMAjDhDNZPS5vLIXOnYj5AVKbCsIZbNWA88gcnqK1srJT+xIH8MjNrlDM6bDh0ovt/770cUAmBNpXP4x45p8mY80w2SEBwiRpCyZUfSsieGPO7T2UF+EziWORkAYjsyBubjVQKnU5lTVWk3/5pQB0pNghdqmEEtmlBJ23wPcy9Au1SMDT/McmyRxmm2gBv+KZaKc/uN9GiiBTPHi9Vtblf503uOFUf8/eDkf5JbIHc8uRqkqWp8/xqyZG659d0CxtfETOJntYebfwX0B2+XDfepA14s12SIV/SwOQkrUGq10DmW2nOzb+EYMwIJVPMFboxT7bm7sB1O8wgC1votoYEePqOv8l3LbQESjtofyFOMTPAfh4ofKM/KgQqSCkkLV0kGYAtiUsKvd695qsrOthtSY5pBI02ruXuYYKwTtqextZ7NTCahyAOSgu8p5lhjxJzC96kefX4zc+7ta3sJXBozG2CzodCpFzutLP8xwyMen6"

argo-cd:
  server:
    ingress:
      enabled: true
      annotations:
        kubernetes.io/ingress.class: traefik
        traefik.ingress.kubernetes.io/router.entrypoints: websecure
      pathType: ImplementationSpecific
      hosts:
        - "argocd.stg.aeternity.io"
    extraArgs:
      - --insecure
    config:
      # Argo CD's externally facing base URL (optional). Required when configuring SSO
      # url: https://argocd.example.com
      # Argo CD instance label key
      url: https://argocd.stg.aeternity.io
      application.instanceLabelKey: argocd.argoproj.io/instance
      repositories: |
        - url: https://github.com/aeternity/gitops-tools.git
        - type: helm
          url: https://argoproj.github.io/argo-helm
          name: argo
        - type: helm
          url: https://bitnami-labs.github.io/sealed-secrets
          name: sealed-secrets
        - type: helm
          url: https://aws.github.io/eks-charts
          name: eks
        - type: helm
          url: https://helm.traefik.io/traefik
          name: traefik
        - type: helm
          url: https://charts.bitnami.com/bitnami
          name: bitnami
      dex.config: |
        connectors:
          - type: github
            id: github
            name: GitHub
            config:
              clientID: $dex.github.clientID
              clientSecret: $dex.github.clientSecret
              orgs:
              - name: aeternity
      resource.customizations: |
        networking.k8s.io/Ingress:
          health.lua: |
            hs = {}
            hs.status = "Healthy"
            return hs
        admissionregistration.k8s.io/MutatingWebhookConfiguration:
          ignoreDifferences: |
            jsonPointers:
            - /webhooks/0/failurePolicy
        admissionregistration.k8s.io/ValidatingWebhookConfiguration:
          ignoreDifferences: |
            jsonPointers:
            - /webhooks/0/failurePolicy
    rbacConfig:
      policy.default: role:readonly
      policy.csv: |
        g, aeternity:devops, role:admin
    additionalProjects:
      - name: tools
        namespace: argocd
        additionalLabels: {}
        additionalAnnotations: {}
        description: Tools used to run the environment
        sourceRepos:
          - 'https://github.com/aeternity/gitops-tools.git'
        destinations:
          - namespace: tools
            server: https://kubernetes.default.svc
          - namespace: argocd
            server: https://kubernetes.default.svc
          - namespace: sealed-secrets
            server: https://kubernetes.default.svc
          - namespace: kube-system
            server: https://kubernetes.default.svc
          - namespace: traefik
            server: https://kubernetes.default.svc
          - namespace: monitoring
            server: https://kubernetes.default.svc
        clusterResourceWhitelist:
          - group: '*'
            kind: '*'
      - name: apps
        namespace: argocd
        additionalLabels: {}
        additionalAnnotations: {}
        description: Applications deployed on EKS
        sourceRepos:
          - 'https://github.com/aeternity/gitops-apps.git'
        destinations:
          - namespace: apps
            server: https://kubernetes.default.svc
        clusterResourceWhitelist:
          - group: '*'
            kind: '*'
defaultRepoUrl: 'https://github.com/aeternity/gitops-tools.git'
defaultTargetRevision: stg

applications:
  argocd:
    project: tools
    namespace: argocd
  argocd-image-updater:
    project: tools
    namespace: argocd
  sealed-secrets:
    project: tools
    namespace: sealed-secrets
  aws-load-balancer-controller:
    project: tools
    namespace: kube-system
  traefik:
    project: tools
    namespace: traefik
  metrics-server:
    project: tools
    namespace: kube-system
  kube-prometheus-stack:
    project: tools
    namespace: monitoring
  kube-prometheus-blackbox-exporter:
    project: tools
    namespace: monitoring
  superhero-ui:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  superhero-wallet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aepp-base:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aerepl-http:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aesophia-http:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  mdw-frontend:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  superhero-backend:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  dex-ui:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aepp-faucet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  test-repo:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'

namespaces:
  - tools
  - apps
