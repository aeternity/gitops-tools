encValues:
  dex.github.clientID: "AgCbuIbaf7sc3MoP8igtGKuwCfcHE18V4pc2BTeMdTOTgpL3k/NzjyqpKd7K/mQVyQJWmLO3NiMGOAOIWTc/qjT7CgBJAEfJ6ONt0GjmQKns4tTm2zp6RtrxY/dhUG1pXfoKCiWfFhfb+5hlyAwrO1BkkDvdC5hGBAadBDg4J7txgtRrZmNb4vjLPD9Ve8CrH3D8l2VxbNc7KdjYyvEj5UDiOJTgoTuzCH6jDy2caDWq6XYR4dlsx4pOiQQUwafBZVBmnsMhxJ4mPtUnT3v8OLlqRje+JyQccW1JPnWLhBvW+c9aoEGKL+WjSPzNtvEieYcjmDOkRN1SqG71DAt9Sqg1gna/iKs5gn4PDbxj08j4IlDmtiZYHFjnz+Y7VcfUME4N7Kqu64Y0KGHma2+5ZFGokru4g7uQpdQPYIvIcWwalvmpFbqMSH2eWYGUJTIZiBtCB8n+X946pY58LFaw88BrvjqQJuvC8IB4CK1sxJLCZ1/ez7dptdYiaH2FVBPFbP4GWRXfRCbIhJQCUfMVZSuVBuZHHsbmdSSp5J/5pSn53BVv5UCz0Lrqagvx/si6waCUosOQ9zUyMiPcmn40nEwdu5fuETKl/FcdDw3bABKcoQC7kRPfAWVKo21m2OdNvovoIyP4kZJVIpF9ObjKYurQOWuQK14ZYAubpJ0fOk7rlSlgRlb1BnYRDvD6Zyy4ezuGzykEp4jsRD+VGTz+EWb9Mc9DuQ=="
  dex.github.clientSecret: "AgBHu8Wj0wHfIl9ikYwsCfCdY8ySaoQuVUkiNzWHZtrv9g3XBIM8EywzeEaoRpN87XYStWyysNFyxCdg7XZXNiQtFFf6SURrMYOK23qTyZ4OaDGXRRrkHFgY8PBjwLUu+qkQgQygt89rYqLFPAbrRcidtL7CYGumetQlWWhcuXyOD3R2/AqbeweVTvChVWKzGtpqYxlWNT78NUEdLfmVKS+zEhmxqzO3eRqukLomODv9MvLAUWtz4ZRyGT0qrWqTKGX/vqD9IhtcY6TP9zc7MeJafHYjLXP8UoOOQbanHB7Ad/A4UQpzEw2NmZWufckAyHSAxFCsz+JDVTE/6Z4zOvNXUGH/nU9/MYDBPdJ54FegUg5bAofUaglYyFHoYehtiYdVUl/aPzxbnX882EWJ67ad8IwSSOQQdZAlbE4iJHwkKca+5IoCl/WeYY3ZfcdPKTXKSFDQPaQLB1xvB8vT0DlMkPgIgAbj09gfztY5q5CEfd7ER+OMjPynotRSNzSOEdAc1bX1WK1oEWWWCx0tLjdWwnkCH4XRMStwp5g62IoLPenN1+R5bfFIluUStBF/Dbudf4LklRdTVSHeWisezKZaMa0GBaKSu6exaNh6YA9juNIjPdc1FyeidI4jkTDh9xYedX8kXt94HeKmyZwIyPSjK9hbQmi0BdVFO5aCZ7n7wvkkLPF40RF3QMWFGEKV7XQ/mOLwnQCNb8pphCjQpKOiqPP+S1Cl354v6WNLbSuj6GEfT3ZTx9lB"
  server.secretkey: "AgAOuwp3F6iedgVnwl1YQG0L140x7z0WlYysQW/iAtxYjkyhf+xTN8TyUYSsp1e/xAsP4gmt1jy0tdpE/l3rM+1E+jKj/WflQ66/hGtLohQrL7tV8+Uo39BR52wLM9CtRTkP6zveKUDlha1/dxg1kvEbogmxPgVrdduwHUDJdn7nttO06FWRzxafWEI+zj7XbCxtUpjnFiLpnLaUYmqxPAXlMzYjcadq6VRTiqoXp2VAvFALUrkXMMUKFrp+ZxxTqBI7A1mE4iLboneBJ033Soj2SyqoF5Oc/rjEcKcIwDM5YtdQoszTxvycODMoVKc9GipkC+Nr57b0usgBFdnVphGSHoXHGO5r2nVpt4CmW5A4rzDNc6Xd6iNfjKHECif75ewah2RQjTSblhztr5EZLj4qaiAzDlFIR5/qum7CUsR8DNeAMP0v43QTfWb7tB8xnGykmVBVh8DjwbzeFncEu+KBFoCbaBsVih/z4sRUneDLiJvxD14HfPPKAR5wI6VIjD1kjxlkFWRahZ/nDpq1jmjd1yFmcZR9e93+dOHXW3cDgseevY9DKwYI8pL4qosJ1s13OYIoOdcjhNqAGrRnGboWHcc8IJ7oSwXUtRZKl/OcGEw9YU9pLF05gIMc+7HIrm68ttb4a/pxmllR4iJKkstfYKUXC7FBad3/01MuGL+xZceeG2mUSvJeDTH/qG9/IYqPxlYHL3gkRIjheCp2NUUf"

argo-cd:
  server:
    ingress:
      enabled: true
      annotations:
        kubernetes.io/ingress.class: traefik
        traefik.ingress.kubernetes.io/router.entrypoints: websecure
      pathType: ImplementationSpecific
      hosts:
        - "argocd.prd.aeternity.io"
    extraArgs:
      - --insecure
    config:
      # Argo CD's externally facing base URL (optional). Required when configuring SSO
      # url: https://argocd.example.com
      # Argo CD instance label key
      url: https://argocd.prd.aeternity.io
      application.instanceLabelKey: argocd.argoproj.io/instance
      repositories: |
        - url: https://github.com/aeternity/gitops-tools.git
        - type: helm
          url: https://argoproj.github.io/argo-helm
          name: argo
        - type: helm
          url: https://bitnami-labs.github.io/sealed-secrets
          name: sealed-secrets
        - type: helm
          url: https://aws.github.io/eks-charts
          name: eks
        - type: helm
          url: https://helm.traefik.io/traefik
          name: traefik
        - type: helm
          url: https://prometheus-community.github.io/helm-charts
          name: prometheus-community
        - type: helm
          url: https://charts.bitnami.com/bitnami
          name: bitnami
      dex.config: |
        connectors:
          - type: github
            id: github
            name: GitHub
            config:
              clientID: $dex.github.clientID
              clientSecret: $dex.github.clientSecret
              orgs:
              - name: aeternity
      resource.customizations: |
          networking.k8s.io/Ingress:
            health.lua: |
              hs = {}
              hs.status = "Healthy"
              return hs
          admissionregistration.k8s.io/MutatingWebhookConfiguration:
            ignoreDifferences: |
              jsonPointers:
              - /webhooks/0/failurePolicy
          admissionregistration.k8s.io/ValidatingWebhookConfiguration:
            ignoreDifferences: |
              jsonPointers:
              - /webhooks/0/failurePolicy
    rbacConfig:
      policy.default: role:readonly
      policy.csv: |
        g, aeternity:devops, role:admin
    additionalProjects:
      - name: tools
        namespace: argocd
        additionalLabels: {}
        additionalAnnotations: {}
        description: Tools used to run the environment
        sourceRepos:
          - 'https://github.com/aeternity/gitops-tools.git'
        destinations:
          - namespace: tools
            server: https://kubernetes.default.svc
          - namespace: argocd
            server: https://kubernetes.default.svc
          - namespace: sealed-secrets
            server: https://kubernetes.default.svc
          - namespace: kube-system
            server: https://kubernetes.default.svc
          - namespace: traefik
            server: https://kubernetes.default.svc
          - namespace: monitoring
            server: https://kubernetes.default.svc
        clusterResourceWhitelist:
          - group: '*'
            kind: '*'
      - name: apps
        namespace: argocd
        additionalLabels: {}
        additionalAnnotations: {}
        description: Applications deployed on EKS
        sourceRepos:
          - 'https://github.com/aeternity/gitops-apps.git'
        destinations:
          - namespace: apps
            server: https://kubernetes.default.svc
        clusterResourceWhitelist:
          - group: '*'
            kind: '*'

defaultRepoUrl: 'https://github.com/aeternity/gitops-tools.git'
defaultTargetRevision: prd

applications:
  argocd:
    project: tools
    namespace: argocd
  sealed-secrets:
    project: tools
    namespace: sealed-secrets
  aws-load-balancer-controller:
    project: tools
    namespace: kube-system  
  traefik:
    project: tools
    namespace: traefik
  metrics-server:
    project: tools
    namespace: kube-system
  kube-prometheus-stack:
    project: tools
    namespace: monitoring
  kube-prometheus-blackbox-exporter:
    project: tools
    namespace: monitoring
  superhero-ui:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  superhero-wallet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aepp-base:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aerepl-http:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aesophia-http:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  mdw-frontend:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  superhero-backend:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  dex-ui:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aepp-faucet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  test-repo:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
    
namespaces:
  - tools
  - apps
