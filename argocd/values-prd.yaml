encValues:
  dex.github.clientID: "AgA2G/AQG7cICNsDNn6hMUe5Za8oCSHYYSNvf0mNVwQ1wK7Sl8FCzRxuPlzerj3AdebflLNGdv6dSUENKH4QHnT4AUl26b6W5U+43scDahgs8Vtcn6eUyovPT75ezaBOz03uRHo1wFK3S6x7fTDLYa9m/Rjl7EUm5/a+5zZssjaOMcFQO8dlyfGlnbhGLhj+7YaKzVJBizgrPM99hzV4qY99uZmSHIiHDawzKAgGcs6DDxUxR78ouUdO+kVdyrGMlQvCAIiFN6exN85xh+/nCCh2av77zCYja2J7h+IjiApqg4CAE1Vwimh9VXaT7epHUyvSJZQI5ySMYvtEaY6UHeOnaKoKJhHY/MudMbo8WsYTNHWH4NVA4JlZO7fKlgHfpn0xAaHQk1K2f9vX0xgs6Y7mMxbkBJgL67Fisra6fq7D5fDGdnNVgoJHKcFcY1UENzRC5zCimvMeez9UHfJa9Vg3OAnBaLS9AlYRW+8Q2koNmgVrCDlkvF8Umr+gIavJ6BcZK6/Gqnl1m2GGWwBSLUIOrejupdP3RVWNCKDQxV5A0DgCH7pS8K7I0zPFlRFOWRkbB0ldc1GRhaeEvrELGQuUm6CeQpWZUfEDYuadstkLo7JgpXX2puViomFYBC4uNlQPn9a1Pww6ahTDGyGokBf6o4FZTmMM1h86h7mbXJRF8yN/ouyWrDND6qtzQd3H82ZUh69CJMM/3AGZfwdBGYfysoqE4Q=="
  dex.github.clientSecret: "AgCWCa3SSLFgKc7d9hlaAY/cWjrHjZhP6xbpMEbL4wjqsMRkEvnZ0opVJHe5YgvOiDV9Js9wFoVrgEbGLg9wffcyWwZFCcb/386HvdXJLYfVXRXFHUA7mGVK0DrFHwCjQqXfa4oNNfIIjONNkzYMWnUARiM6oOXXCJR76bFkuj8ROk+/Ks9mPAEW+yZX3aW0Aufo8AWsvdq2MiW3mF6k6h2F2oZiTwtCY+kvOY0PySmpeA1S4Kaw4X5dxMoXIEqNWCf0xufvVtEx2QON2I1MpBctBOuvhJ4wtSbuceMoexaCtu2z4+1BH2prU7IUF4W8yUgq6brI9xqoH+/OnksEbO6cZbtr6lwlJRxaC29To5aojT1XQOL88/1hIV1CIgxbjptVZNc8sUlKVpNUciHv0u5gjI9h4UVol70PdVW9zCPHwbbvAbZLyHUg2cO/N5EVJM4jsBiqXOpenkeWCi4/D4GRZhyvrlYV/Y8vvCZz2TkZO35uTvcewh+mnV2X8qwSmunhmmknW05M8FsxMdpPa726wq7fCbo3sIoAFqDju1PurvCsQ5WbjdDz3d8WOgg+iPJa+QmkKt8kC3nX8fIFf9twHGwgf7OCSE4sniJchZjo81jrF5oL0Ih22gpvrMIa9UWPcN60oSRv6z/GesEniW4q9DMw6zzL3aQlJ11954wuoyYiplwm7mgClvB7MeG6alZmpoHln7MDfxeB8+ENO3WQzeTkVDdxOL7nx8rA220Ww9nGj+xiBuJl"
  server.secretkey: "AgAZv5ulKQY+MPez3YT05GDxiSbuNu89ztD9ZvpjCauxu0V8JjPVK52cm1TQWOpomYyS3zEHWUPNjsDe/4ARwFq6ElQObzEQeAcuR2nR5YTnrSw8ouisZCLaqBAtQ1rtPg1FANssbtt1ARLRDNujGswS9W+qsHmq4asANPOTdkdwMZ7SZkuqD+Mu9wv7gI/W2ePeAY1tlMMmVlbeLkTALjsn1BUORQpAb5Q67nyUp47QcVLuWuYCcYqBX5qmzpibuE/2umsetgXI5L/wHQ4Ap8ST6fSX3MLVj9CaKRSs/nU+CyzaTouHUQW1LzguzQruVBW24Jkn6L3Y1skkotplLL/jVpsQEAQTNOmrqoLlWqS3JmsdRMxIW2WTSysVHDD++mZzFUEpl4wAfPYUp/KSAq2eIWAk79xM3vxJ2z0s/+PcxTNPUkM+nZ7ktOw39QmeYywt0absrULCLRG2fIYj3ozP7maEQ0+SlaP5xD7WFfsCY5rl4A2tchKZhlFrRw4UclUN/ZZBhxkv7QIvIaZpNfDEJNy6PnljaWIQQEoiS+B7xN7jseEhmhxFNNdQ+yNbCWDOeDSDh7WVKn1zKsuyS0oitoNiR/3MgJKGr/Z59usSfMfzT8xHiU8w83kCMF5678sYFwhVnN5ec5G+6Pm+skILfF8WozGfAdQzpvDQszBXWGf1GWUpyqPHshliyxSafzoCAFnYfZnNlxT9JV4XbhqZ"

argo-cd:
  server:
    ingress:
      enabled: true
      annotations:
        kubernetes.io/ingress.class: traefik
        traefik.ingress.kubernetes.io/router.entrypoints: websecure
      pathType: ImplementationSpecific
      hosts:
        - "argocd.prd.aeternity.io"
    extraArgs:
      - --insecure
    config:
      # Argo CD's externally facing base URL (optional). Required when configuring SSO
      # url: https://argocd.example.com
      # Argo CD instance label key
      url: https://argocd.prd.aeternity.io
      application.instanceLabelKey: argocd.argoproj.io/instance
      repositories: |
        - url: https://github.com/aeternity/gitops-tools.git
        - type: helm
          url: https://argoproj.github.io/argo-helm
          name: argo
        - type: helm
          url: https://bitnami-labs.github.io/sealed-secrets
          name: sealed-secrets
        - type: helm
          url: https://aws.github.io/eks-charts
          name: eks
        - type: helm
          url: https://helm.traefik.io/traefik
          name: traefik
        - type: helm
          url: https://prometheus-community.github.io/helm-charts
          name: prometheus-community
        - type: helm
          url: https://charts.bitnami.com/bitnami
          name: bitnami
        - type: helm
          url: https://fluent.github.io/helm-charts
          name: fluent
        - type: helm
          url: https://kubernetes.github.io/autoscaler
          name: cluster-autoscaler
        - type: helm
          url: https://vmware-tanzu.github.io/helm-charts
          name: velero
      dex.config: |
        connectors:
          - type: github
            id: github
            name: GitHub
            config:
              clientID: $dex.github.clientID
              clientSecret: $dex.github.clientSecret
              orgs:
              - name: aeternity
      resource.customizations: |
          networking.k8s.io/Ingress:
            health.lua: |
              hs = {}
              hs.status = "Healthy"
              return hs
          admissionregistration.k8s.io/MutatingWebhookConfiguration:
            ignoreDifferences: |
              jsonPointers:
              - /webhooks/0/failurePolicy
          admissionregistration.k8s.io/ValidatingWebhookConfiguration:
            ignoreDifferences: |
              jsonPointers:
              - /webhooks/0/failurePolicy
    rbacConfig:
      policy.default: role:readonly
      policy.csv: |
        g, aeternity:devops, role:admin
    additionalProjects:
      - name: tools
        namespace: argocd
        additionalLabels: {}
        additionalAnnotations: {}
        description: Tools used to run the environment
        sourceRepos:
          - 'https://github.com/aeternity/gitops-tools.git'
        destinations:
          - namespace: tools
            server: https://kubernetes.default.svc
          - namespace: argocd
            server: https://kubernetes.default.svc
          - namespace: sealed-secrets
            server: https://kubernetes.default.svc
          - namespace: kube-system
            server: https://kubernetes.default.svc
          - namespace: traefik
            server: https://kubernetes.default.svc
          - namespace: monitoring
            server: https://kubernetes.default.svc
          - namespace: logging
            server: https://kubernetes.default.svc
          - namespace: cluster-autoscaler
            server: https://kubernetes.default.svc
          - namespace: kubernetes-event-exporter
            server: https://kubernetes.default.svc
          - namespace: velero
            server: https://kubernetes.default.svc
        clusterResourceWhitelist:
          - group: '*'
            kind: '*'
      - name: apps
        namespace: argocd
        additionalLabels: {}
        additionalAnnotations: {}
        description: Applications deployed on EKS
        sourceRepos:
          - 'https://github.com/aeternity/gitops-apps.git'
        destinations:
          - namespace: apps
            server: https://kubernetes.default.svc
        clusterResourceWhitelist:
          - group: '*'
            kind: '*'

defaultRepoUrl: 'https://github.com/aeternity/gitops-tools.git'
defaultTargetRevision: prd

applications:
  argocd:
    project: tools
    namespace: argocd
  sealed-secrets:
    project: tools
    namespace: sealed-secrets
  aws-load-balancer-controller:
    project: tools
    namespace: kube-system  
  traefik:
    project: tools
    namespace: traefik
  metrics-server:
    project: tools
    namespace: kube-system
  kube-prometheus-stack:
    project: tools
    namespace: monitoring
  kube-prometheus-blackbox-exporter:
    project: tools
    namespace: monitoring
  fluent-bit:
    project: tools
    namespace: logging
  cluster-autoscaler:
    project: tools
    namespace: cluster-autoscaler
  kubernetes-event-exporter:
    project: tools
    namespace: kubernetes-event-exporter
  velero:
    project: tools
    namespace: velero
  superhero-ui:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  superhero-wallet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aepp-base:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aerepl-http:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aesophia-http:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  mdw-frontend:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  superhero-backend:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  dex-ui:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aepp-faucet:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  test-repo:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  graffiti-server:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
  aepp-graffiti:
    project: apps
    namespace: apps
    repoUrl: 'https://github.com/aeternity/gitops-apps.git'
    
namespaces:
  - tools
  - apps
